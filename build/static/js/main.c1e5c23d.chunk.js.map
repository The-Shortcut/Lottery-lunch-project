{"version":3,"sources":["components/Login.js","components/header.js","components/Functionality.js","components/Display.js","components/SearchedItem.js","Main.js","App.js","index.js"],"names":["Login","props","useState","userName","setUserName","password","setPassword","usersJson","description","users","testUser","type","onFormSubmit","e","preventDefault","Object","keys","filter","length","window","localStorage","setItem","JSON","stringify","console","log","value","auth","setAuth","handleAuth","alert","className","size","onSubmit","label","icon","group","validate","error","success","getValue","onClick","Header","Functionality","generateLottery","sendEmails","color","onChange","target","setInterest","handleAddNewInterest","setSearchName","handleSearchByName","Display","emails","map","i","key","email","SearchedItem","searchfromDb","searchName","confirm","deleteByName","Main","setEmails","interest","setSearchfromDb","a","axios","get","response","data","post","method","url","header","params","searchterm","rowCount","App","useEffect","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.c1e5c23d.chunk.js","sourcesContent":["import React, { useState } from \"react\";\nimport { MDBInput, MDBBtn, MDBCol } from \"mdbreact\";\nimport { BrowserRouter as Router, withRouter } from \"react-router-dom\";\nimport \"@fortawesome/fontawesome-free/css/all.min.css\";\nimport \"bootstrap-css-only/css/bootstrap.min.css\";\nimport \"mdbreact/dist/css/mdb.css\";\nimport \"../App.css\";\n\nconst Login = (props) => {\n  const [userName, setUserName] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const usersJson = {\n    description: \"Login and passwords of users\",\n    users: {\n      testUser: {\n        password: \"test\",\n        type: \"test\",\n      },\n    },\n  };\n  const handleAuth = () => {\n    const value = props.auth;\n    props.setAuth(!value);\n  };\n\n  const onFormSubmit = (e) => {\n    e.preventDefault();\n\n    const filterUserName = Object.keys(usersJson.users).filter((e) => {\n      return e === userName;\n    });\n    if (\n      filterUserName.length > 0 &&\n      usersJson.users[userName].password === password\n    ) {\n      window.localStorage.setItem(\n        \"user\",\n        JSON.stringify(usersJson.users[userName])\n      );\n      console.log(\"Logged in\");\n      handleAuth();\n    } else {\n      alert(\"Wrong login or password\");\n    }\n  };\n\n  return (\n    <div className='login'>\n      <Router>\n        <MDBCol size='3'>\n          <form onSubmit={onFormSubmit}>\n            <p className='h5 text-center mb-4'>Sign in</p>\n            <div className='grey-text'>\n              <MDBInput\n                label='Type your email'\n                icon='envelope'\n                group\n                type='text'\n                validate\n                error='wrong'\n                success='right'\n                getValue={(value) => setUserName(value)}\n              />\n              <MDBInput\n                label='Type your password'\n                icon='lock'\n                group\n                type='password'\n                validate\n                getValue={(value) => setPassword(value)}\n              />\n            </div>\n            <div className='text-center'>\n              <MDBBtn type='submit' onClick={onFormSubmit}>\n                Login\n              </MDBBtn>\n            </div>\n          </form>\n        </MDBCol>\n      </Router>\n    </div>\n  );\n};\n\nexport default Login;\n","import React from \"react\";\n\nconst Header = () => {\n  return (\n    <div>\n      <h1>Lottery Lunch</h1>\n    </div>\n  );\n};\n\nexport default Header;\n","import React from \"react\";\nimport { MDBBtn, MDBInput } from \"mdbreact\";\n\nconst Functionality = (props) => {\n  return (\n    <div className='Functionality'>\n      <MDBBtn onClick={() => props.generateLottery()}>Generate lottery</MDBBtn>\n      <MDBBtn onClick={() => props.sendEmails()} color='warning'>\n        Send Emails\n      </MDBBtn>\n\n      <div className='box'>\n        <MDBInput\n          label='Add new Interest...'\n          onChange={({ target }) => props.setInterest(target.value)}\n        />\n        <MDBBtn onClick={() => props.handleAddNewInterest()} color='pink'>\n          Add new Interest\n        </MDBBtn>\n      </div>\n      <div className='box'>\n        <MDBInput\n          label='Search by email...'\n          onChange={({ target }) => props.setSearchName(target.value)}\n        />\n        <MDBBtn onClick={() => props.handleSearchByName()} color='info'>\n          Search user\n        </MDBBtn>\n      </div>\n    </div>\n  );\n};\n\nexport default Functionality;\n","import React from \"react\";\n\nconst Display = ({ emails }) => {\n  return (\n    <div>\n      <h3>Generated emails are</h3>\n      {emails.map((i, key) => (\n        <div key={key} className='emailsContainer'>\n          {i.map((email, key) => (\n            <p className='email' key={key}>\n              {email}\n            </p>\n          ))}\n        </div>\n      ))}\n    </div>\n  );\n};\nexport default Display;\n","import React from \"react\";\nimport { MDBBtn} from \"mdbreact\";\n\nconst SearchedItem = (props) => {\n  const handleDeleteUser = () => {\n    let ans = window.confirm(\n      `Are you sure, you want to remove ${props.searchName}?`\n    );\n    if (ans == true) {\n      props.deleteByName();\n    }\n  };\n  \n  return (\n    <div>\n      <h3>Searched email </h3>\n      {props.searchfromDb && (\n        <div>\n          {props.searchName}\n          <MDBBtn onClick={() => handleDeleteUser()} color='danger'>\n            Delete User\n          </MDBBtn>\n        </div>\n      )}\n    </div>\n  );\n};\nexport default SearchedItem;\n","import React, { useState } from \"react\";\nimport Header from \"./components/header\";\nimport Functionality from \"./components/Functionality\";\nimport Display from \"./components/Display\";\nimport axios from \"axios\";\nimport SearchedItem from \"./components/SearchedItem\";\n\n///change base url to /api to use build file\nconst baseUrl = \"/api\"; //run locally using http://localhost:4000/\n\nconst Main = () => {\n  const [emails, setEmails] = useState([]);\n  const [searchName, setSearchName] = useState(\"\");\n  const [interest, setInterest] = useState(\"\");\n  const [searchfromDb, setSearchfromDb] = useState(false);\n\n  const generateLottery = async () => {\n    const response = await axios.get(`${baseUrl}/lunch-pairs`);\n\n    setEmails(response.data);\n  };\n\n  const sendEmails = async () => {\n    console.log(\"Emails are \", emails);\n\n    const response = await axios.post(\n      `${baseUrl}/users/insertIntoHistory`,\n      emails\n    );\n    console.log(\"response from send email is \", response);\n  };\n\n  const handleSearchByName = async () => {\n    console.log(\"search name is \", searchName);\n    const response = await axios({\n      method: \"get\",\n      url: `${baseUrl}/users/:${searchName}`,\n      header: {},\n      params: {\n        searchterm: `email`,\n        value: `${searchName}`,\n      },\n    });\n    if (response.data.rowCount > 0) {\n      setSearchfromDb(true);\n    }else{\n      alert(`${searchName} does not exists in database`);\n    }\n  };\n\n  const deleteByName = async () => {\n    const response = await axios({\n      method: \"delete\",\n      url: `${baseUrl}/users/:${searchName}`,\n      header: {},\n      data: {\n        email: `${searchName}`,\n      },\n    });\n\n    if (response.data.rowCount > 0) {\n      alert(`${searchName} removed from database!`);\n    } else {\n      alert(`${searchName} does not exist!`);\n    }\n    setSearchName(\"\");\n  };\n\n  const handleAddNewInterest = async () => {\n    if (interest.length > 0) {\n      const data = {\n        interest: `${interest}`,\n      };\n      const response = await axios.post(`${baseUrl}/interests/`, data);\n\n      if (response.data.rowCount > 0) {\n        alert(`${interest} added to database!`);\n      } else {\n        alert(`${interest} not added!`);\n      }\n    } else {\n      alert(`Cannot insert null interest. Please insert proper interest.`);\n    }\n    setInterest(\"\");\n  };\n\n  return (\n    <div className='Main-page'>\n      <Header />\n      <Functionality\n        generateLottery={generateLottery}\n        sendEmails={sendEmails}\n        setSearchName={setSearchName}\n        handleSearchByName={handleSearchByName}\n        setInterest={setInterest}\n        handleAddNewInterest={handleAddNewInterest}\n      />\n      {emails.length > 0 && <Display emails={emails} />}\n      {searchName && (\n        <SearchedItem\n          searchName={searchName}\n          deleteByName={deleteByName}\n          searchfromDb={searchfromDb}\n        />\n      )}\n    </div>\n  );\n};\n\nexport default Main;\n","import React, { useState, useEffect } from \"react\";\nimport Login from \"./components/Login\";\nimport Main from \"./Main.js\";\n\nimport \"@fortawesome/fontawesome-free/css/all.min.css\";\nimport \"bootstrap-css-only/css/bootstrap.min.css\";\nimport \"mdbreact/dist/css/mdb.css\";\nimport \"./App.css\";\n\nconst App = () => {\n  const [auth, setAuth] = useState(false);\n  useEffect(() => {\n    console.log(\"auth\", auth);\n  }, [auth]);\n\n  return (\n    <div className=\"App\">\n      {!auth ? <Login auth={auth} setAuth={setAuth} /> : <Main />}\n    </div>\n  );\n};\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App.js\";\n//import { BrowserRouter, Route, Switch } from 'react-router-dom';\n\n// import { Router } from \"react-router\";\n// import { createBrowserHistory } from \"history\";\n\n// const history = createBrowserHistory();\n\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\n"],"sourceRoot":""}